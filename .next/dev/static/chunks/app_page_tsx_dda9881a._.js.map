{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/yashrajyadav/Documents/Prompt%20Jacker/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useRef, useState } from \"react\";\nimport { motion } from \"motion/react\";\nimport {\n  Copy,\n  ImageIcon,\n  Sparkles,\n  Paintbrush,\n  MonitorSmartphone,\n  Zap,\n  RotateCcw\n} from \"lucide-react\";\n\nconst MODE_META = {\n  art: {\n    label: \"Art Thief\",\n    icon: Paintbrush,\n    tone: \"Focus on lighting, camera, style, mood.\",\n    badge: \"Midjourney / SD\"\n  },\n  ui: {\n    label: \"UI Pirate\",\n    icon: MonitorSmartphone,\n    tone: \"Focus on layout, components, typography, color.\",\n    badge: \"Figma / Web\"\n  }\n} as const;\n\ntype Mode = keyof typeof MODE_META;\n\nexport default function Home() {\n  const [mode, setMode] = useState<Mode>(\"art\");\n  const [file, setFile] = useState<File | null>(null);\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n  const [prompt, setPrompt] = useState<string>(\"\");\n  const [status, setStatus] = useState<\"idle\" | \"loading\" | \"done\" | \"error\">(\"idle\");\n  const [error, setError] = useState<string | null>(null);\n  const [copied, setCopied] = useState(false);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const meta = MODE_META[mode];\n  const MetaIcon = meta.icon;\n\n  const hint = useMemo(() => {\n    if (status === \"loading\") return \"Jacking the prompt...\";\n    if (status === \"done\") return \"Recipe secured.\";\n    if (status === \"error\") return \"Heist failed.\";\n    return \"Upload a target image to begin.\";\n  }, [status]);\n\n  const onPickFile = () => {\n    inputRef.current?.click();\n  };\n\n  const onFileChange = (selected?: File | null) => {\n    if (!selected) return;\n    if (!selected.type.startsWith(\"image/\")) {\n      setError(\"Please upload a PNG or JPG image.\");\n      setStatus(\"error\");\n      return;\n    }\n    setFile(selected);\n    setPreviewUrl(URL.createObjectURL(selected));\n    setPrompt(\"\");\n    setStatus(\"idle\");\n    setError(null);\n  };\n\n  const handleDrop = (event: React.DragEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    const dropped = event.dataTransfer.files?.[0];\n    onFileChange(dropped);\n  };\n\n  const handleSubmit = async () => {\n    if (!file) {\n      setError(\"Drop an image to reverse-engineer.\");\n      setStatus(\"error\");\n      return;\n    }\n\n    setStatus(\"loading\");\n    setError(null);\n    setCopied(false);\n\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      formData.append(\"mode\", mode);\n\n      const response = await fetch(\"/api/reverse-engineer\", {\n        method: \"POST\",\n        body: formData\n      });\n\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data?.error || \"Unknown error\");\n      }\n\n      setPrompt(data.prompt || \"\");\n      setStatus(\"done\");\n    } catch (err) {\n      const message = err instanceof Error ? err.message : \"Unexpected error.\";\n      setError(message);\n      setStatus(\"error\");\n    }\n  };\n\n  const handleCopy = async () => {\n    if (!prompt) return;\n    await navigator.clipboard.writeText(prompt);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  return (\n    <div className=\"min-h-screen px-6 pb-20 pt-12\">\n      <header className=\"mx-auto flex w-full max-w-6xl flex-col gap-4\">\n        <div className=\"tag w-fit\">\n          <Zap className=\"h-3.5 w-3.5\" />\n          Reverse-Engineering Lab\n        </div>\n        <div className=\"flex flex-col gap-4 md:flex-row md:items-end md:justify-between\">\n          <div className=\"space-y-3\">\n            <h1 className=\"font-display text-4xl font-semibold tracking-tight md:text-5xl\">\n              Prompt-Jacker\n            </h1>\n            <p className=\"text-lg text-mist\">Don&apos;t just admire the view. Steal the recipe.</p>\n          </div>\n          <div className=\"glass flex items-center gap-3 rounded-full px-4 py-3 text-sm text-mist shadow-glow\">\n            <Sparkles className=\"h-4 w-4 text-brass\" />\n            The inspect element for visuals\n          </div>\n        </div>\n      </header>\n\n      <main className=\"mx-auto mt-10 grid w-full max-w-6xl gap-8 lg:grid-cols-[1.05fr_0.95fr]\">\n        <section className=\"space-y-6\">\n          <div className=\"glass rounded-3xl p-6 shadow-glow\">\n            <div className=\"flex flex-wrap items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-xs uppercase tracking-[0.35em] text-mist\">Intent</p>\n                <h2 className=\"mt-2 font-display text-2xl\">Choose your heist mode</h2>\n              </div>\n              <div className=\"flex items-center gap-2 rounded-full border border-white/10 bg-black/40 p-1\">\n                {([\"art\", \"ui\"] as Mode[]).map((key) => {\n                  const Icon = MODE_META[key].icon;\n                  const active = key === mode;\n                  return (\n                    <button\n                      key={key}\n                      type=\"button\"\n                      onClick={() => setMode(key)}\n                      className={`flex items-center gap-2 rounded-full px-4 py-2 text-sm transition ${\n                        active\n                          ? \"bg-white text-black shadow-neon\"\n                          : \"text-mist hover:text-white\"\n                      }`}\n                    >\n                      <Icon className=\"h-4 w-4\" />\n                      {MODE_META[key].label}\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n            <div className=\"mt-4 flex flex-wrap items-center gap-3 text-sm text-mist\">\n              <span className=\"rounded-full border border-white/10 px-3 py-1 text-xs uppercase tracking-[0.2em]\">\n                {meta.badge}\n              </span>\n              <span>{meta.tone}</span>\n            </div>\n          </div>\n\n          <div\n            className=\"glass relative overflow-hidden rounded-3xl p-6 shadow-glow\"\n            onDragOver={(event) => event.preventDefault()}\n            onDrop={handleDrop}\n          >\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-xs uppercase tracking-[0.35em] text-mist\">Target</p>\n                <h3 className=\"mt-2 font-display text-xl\">Drop the reference image</h3>\n              </div>\n              <button\n                type=\"button\"\n                onClick={onPickFile}\n                className=\"rounded-full border border-white/10 px-4 py-2 text-xs uppercase tracking-[0.2em] text-mist transition hover:border-white/40 hover:text-white\"\n              >\n                Browse\n              </button>\n            </div>\n\n            <div className=\"mt-6 grid gap-4 md:grid-cols-[1.1fr_0.9fr]\">\n              <div className=\"relative rounded-2xl border border-dashed border-white/20 bg-black/40 p-5\">\n                {previewUrl ? (\n                  <img\n                    src={previewUrl}\n                    alt=\"Uploaded preview\"\n                    className=\"h-64 w-full rounded-xl object-cover\"\n                  />\n                ) : (\n                  <div className=\"flex h-64 flex-col items-center justify-center gap-3 text-mist\">\n                    <ImageIcon className=\"h-8 w-8\" />\n                    <p className=\"text-sm\">PNG or JPG up to 8MB</p>\n                  </div>\n                )}\n\n                {status === \"loading\" && (\n                  <div className=\"pointer-events-none absolute inset-0\">\n                    <motion.div\n                      className=\"absolute inset-0 bg-gradient-to-b from-transparent via-white/20 to-transparent\"\n                      animate={{ y: [\"-120%\", \"120%\"] }}\n                      transition={{ duration: 2.5, repeat: Infinity, ease: \"linear\" }}\n                    />\n                  </div>\n                )}\n              </div>\n\n              <div className=\"flex flex-col justify-between gap-4\">\n                <div className=\"rounded-2xl border border-white/10 bg-black/30 p-4 text-sm text-mist\">\n                  <p className=\"font-display text-lg text-white\">How it works</p>\n                  <ul className=\"mt-3 space-y-2\">\n                    <li>1. Upload a reference image.</li>\n                    <li>2. Pick Art or UI mode.</li>\n                    <li>3. We extract the recipe.</li>\n                  </ul>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={handleSubmit}\n                  className=\"rounded-2xl bg-brass px-5 py-4 text-sm font-semibold uppercase tracking-[0.2em] text-black transition hover:translate-y-[-2px] hover:shadow-neon\"\n                >\n                  Start the heist\n                </button>\n              </div>\n            </div>\n\n            <input\n              ref={inputRef}\n              type=\"file\"\n              accept=\"image/*\"\n              className=\"hidden\"\n              onChange={(event) => onFileChange(event.target.files?.[0] || null)}\n            />\n          </div>\n        </section>\n\n        <section className=\"space-y-6\">\n          <div className=\"glass rounded-3xl p-6 shadow-glow\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-xs uppercase tracking-[0.35em] text-mist\">Output</p>\n                <h3 className=\"mt-2 font-display text-2xl\">The stolen prompt</h3>\n              </div>\n              <span className=\"text-xs uppercase tracking-[0.3em] text-mist\">{hint}</span>\n            </div>\n\n            <div className=\"mt-4 rounded-2xl border border-white/10 bg-black/40 p-5\">\n              <p className=\"whitespace-pre-wrap font-mono text-sm text-white/90\">\n                {prompt ||\n                  \"Cinematic lighting, 35mm lens, hyper-detailed portrait, teal shadows, golden rim light, Unreal Engine render, glossy reflections...\"}\n              </p>\n            </div>\n\n            {error && (\n              <p className=\"mt-3 text-sm text-mag\">{error}</p>\n            )}\n\n            <div className=\"mt-5 flex flex-wrap items-center gap-3\">\n              <button\n                type=\"button\"\n                onClick={handleCopy}\n                className=\"flex items-center gap-2 rounded-full border border-white/10 px-4 py-2 text-xs uppercase tracking-[0.2em] text-mist transition hover:border-white/40 hover:text-white\"\n              >\n                <Copy className=\"h-4 w-4\" />\n                {copied ? \"Copied\" : \"Copy\"}\n              </button>\n              <button\n                type=\"button\"\n                disabled\n                className=\"flex items-center gap-2 rounded-full border border-white/10 px-4 py-2 text-xs uppercase tracking-[0.2em] text-mist/60\"\n              >\n                <RotateCcw className=\"h-4 w-4\" />\n                Remix (Soon)\n              </button>\n            </div>\n          </div>\n\n          <div className=\"glass rounded-3xl p-6 shadow-glow\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/10\">\n                <MetaIcon className=\"h-6 w-6 text-brass\" />\n              </div>\n              <div>\n                <p className=\"text-xs uppercase tracking-[0.3em] text-mist\">Selected Engine</p>\n                <p className=\"font-display text-lg text-white\">{meta.label}</p>\n              </div>\n            </div>\n            <p className=\"mt-4 text-sm text-mist\">\n              {mode === \"art\"\n                ? \"Expect camera metadata, lighting, rendering engines, and dense style tags.\"\n                : \"Expect layout primitives, UI component language, typography stacks, and palette hierarchy.\"}\n            </p>\n          </div>\n        </section>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}